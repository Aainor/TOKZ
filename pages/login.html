<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - TOKZ Barber</title>
    <link rel="icon" href="/public/img/iconos/favicon.webp" type="image/png">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/public/css/login.css">
</head>
<body>
    <div class="login-container">
    <div class="red-glow glow-1"></div>
    <div class="red-glow glow-2"></div>

    <a href="/index.html" class="back-arrow">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor">
            <path d="M640-80 240-480l400-400 71 71-329 329 329 329-71 71Z"/>
        </svg>
    </a>

    <div class="login-box fade-in">
        
        <div id="view-login">
            <div class="login-header">
                <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
                <h1>TOKZ <span class="text-red">BARBER</span></h1>
                <p>Bienvenido, inicia sesión en tu cuenta.</p>
            </div>
            
            <button class="btn google-btn">
                <i class="fab fa-google"></i> Ingresar con Google
            </button>
        </div>

        <div id="view-register" class="hidden">
            <div class="login-header">
                <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
                <h1>CREAR <span class="text-red">CUENTA</span></h1>
                <p>Únete a la familia Tokz Barber.</p>
            </div>
        </div>

        <div id="view-user" class="hidden">
            <div class="login-header">
                <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
                <h1>HOLA,</h1>
                <div class="user-text-red">
                    <span class="text-red" id="user-name-display">USUARIO</span>
                </div>
                <p class="p">Has iniciado sesión correctamente.</p>
            </div>

            <div class="user-actions action-stack"> <p style="margin-bottom: 10px; color: #ccc;">¿Qué deseas hacer hoy?</p>
    
                <a href="/pages/turnos.html" class="btn-login">
                    RESERVAR TURNO
                </a>

                <button id="btn-view-bookings" class="btn-login">
                    MIS TURNOS
                </button>
                
                <button id="btn-logout" class="btn-login btn-outline">
                    CERRAR SESIÓN
                </button>

            </div>
        </div>
        <div id="view-barber" class="hidden fade-in" style="text-align: center; padding: 20px;">
        <div class="dashboard-header" style="margin-top:40px; margin-bottom: 20px;">
            <p style="color:#aaa; text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem;">Staff Tokz</p>
            <h2 style="color:white; font-size: 2rem;">Hola, <span id="barber-name-display" style="color:#AE0E30;">Colega</span></h2>
            <p style="color:#ccc;">Esta es tu agenda actualizada:</p>
        </div>

        <div class="barber-bookings-list" style="max-width: 600px; margin: 0 auto 30px auto; padding: 0 15px;">
            <p style="color:#666;">Cargando...</p>
        </div>

        <div style="margin-bottom:15px;">
            <button id="btn-refresh-barber" class="cta-button" style="background:none; border: 1px solid #444; padding: 8px 20px; font-size: 0.9rem; cursor: pointer; color: white;">
                <i class="fa-solid fa-rotate-right"></i> Actualizar Agenda
            </button>
        </div>

        <div style="margin-bottom:50px;">
            <button id="btn-logout-barber" class="cta-button" style="background:#333; font-size: 0.9rem; cursor: pointer;">
                Cerrar Sesión
            </button>
        </div>
    </div>

        <div id="booking-mod" class="hidden">
    <div class="login-header">
        <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
        <h1>MIS <span class="text-red">TURNOS</span></h1>
        <p>Gestioná tus próximas citas.</p>
    </div>

    <div class="bookings-list" style="max-height: 250px; overflow-y: auto; margin: 20px 0; padding-right: 5px;"></div>

        <p class="auth-toggle" style="margin-top: 10px;">
            <span id="btn-back-dashboard" class="cursor-pointer text-red">
                <i class="fa-solid fa-arrow-left"></i> Volver
            </span>
        </p>
    </div>

    </div>
</div>

<div id="delete-modal" class="modal-overlay">
    <div class="modal-box">
        <h3>¿CANCELAR TURNO?</h3>
        <p id="modal-text"></p>
        <div class="modal-actions">
            <button class="btn-modal btn-cancel" id="btn-modal-cancel">NO, VOLVER</button>
            <button class="btn-modal btn-confirm" id="btn-modal-confirm">SÍ, BORRAR</button>
        </div>
    </div>
</div>

<script src="/public/js/goBack.js"></script>
<script src="/public/js/guard.js"></script>
<script type="module" src="/public/js/auth-logic.js"></script>

</body>
</html>