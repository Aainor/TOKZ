<!DOCTYPE html>
<html lang="es">

<head>
    <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - TOKZ Barber</title>
    <link rel="icon" href="/public/img/iconos/favicon.webp" type="image/png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Playfair+Display:wght@700&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/public/css/login.css">
</head>

<body>
    <div class="login-container">
        <div class="red-glow glow-1"></div>
        <div class="red-glow glow-2"></div>

        <a href="/index.html" class="back-arrow">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="currentColor">
                <path d="M640-80 240-480l400-400 71 71-329 329 329 329-71 71Z" />
            </svg>
        </a>

        <div class="login-box fade-in">

            <div id="view-login">
                <div class="login-header">
                    <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
                    <h1>TOKZ <span class="text-red">BARBER</span></h1>
                    <p>Bienvenido, inicia sesión en tu cuenta.</p>
                </div>

                <button class="btn google-btn">
                    <i class="fab fa-google"></i> Ingresar con Google
                </button>
            </div>

            <div id="view-register" class="hidden">
                <div class="login-header">
                    <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
                    <h1>CREAR <span class="text-red">CUENTA</span></h1>
                    <p>Únete a la familia Tokz Barber.</p>
                </div>
            </div>

            <div id="view-user" class="hidden">
                <div class="login-header">
                    <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
                    <h1>HOLA,</h1>
                    <div class="user-text-red">
                        <span class="text-red" id="user-name-display">USUARIO</span>
                    </div>
                    <p class="p">Has iniciado sesión correctamente.</p>
                </div>

                <div class="user-actions action-stack">
                    <p style="margin-bottom: 10px; color: #ccc;">¿Qué deseas hacer hoy?</p>

                    <a href="/pages/turnos.html" class="btn-login">
                        RESERVAR TURNO
                    </a>

                    <button id="btn-view-bookings" class="btn-login">
                        MIS TURNOS
                    </button>

                    <button id="btn-logout" class="btn-login btn-outline">
                        CERRAR SESIÓN
                    </button>
                </div>
            </div>

            <div id="booking-mod" class="hidden">
                <div class="login-header">
                    <img src="/public/img/logos/Imagen3.png" alt="Logo Tokz Barber" class="login-logo">
                    <h1>MIS <span class="text-red">TURNOS</span></h1>
                    <p>Gestioná tus próximas citas.</p>
                </div>

                <div class="bookings-list"
                    style="max-height: 250px; overflow-y: auto; margin: 20px 0; padding-right: 5px;">
                </div>

                <p class="auth-toggle" style="margin-top: 10px;">
                    <span id="btn-back-dashboard" class="cursor-pointer text-red">
                        <i class="fa-solid fa-arrow-left"></i> Volver
                    </span>
                </p>
            </div>

        </div>
    </div>

    <div id="view-barber" class="hidden">

        <div class="dashboard-header">
            <div style="text-align: left;">
                <p style="color:#888; text-transform: uppercase; letter-spacing: 2px; font-size: 0.7rem; margin-bottom: 2px;">
                    Staff Tokz
                </p>
                <h2 style="color:white; font-size: 1.8rem; margin: 0; line-height: 1;">
                    Hola, <span id="barber-name-display" style="color:#AE0E30;">Colega</span>
                </h2>
            </div>
            <img src="/public/img/logos/Imagen3.png" alt="Logo" style="height: 35px; opacity: 0.8;">
        </div>

        <div id="calendar-container-wrapper">
            <div id="calendar-barber"></div>
        </div>

        <div class="action-stack-barber">
            <button id="btn-back-admin" class="btn-barber hidden" style="background: #333; color: white; border: 1px solid #555;">
                <i class="fa-solid fa-lock"></i> Panel Admin
            </button>

            <button id="btn-refresh-barber" class="btn-barber btn-barber-refresh">
                <i class="fa-solid fa-rotate-right"></i> Actualizar
            </button>

            <button id="btn-logout-barber" class="btn-barber btn-barber-logout">
                <i class="fa-solid fa-arrow-right-from-bracket"></i> Salir
            </button>
        </div>
    </div>

    <div id="view-admin" class="hidden">
        <div class="admin-container fade-in">
            <div class="dashboard-header">
                <p class="admin-subtitle">PANEL DE CONTROL</p>
                <h2 class="admin-title">Administración General</h2>
            </div>

            <div class="admin-controls">
                <input type="date" id="admin-date-picker" class="admin-input">
                
                <button id="btn-admin-refresh" class="cta-button">
                    <i class="fa-solid fa-magnifying-glass"></i> Buscar
                </button>

                <button id="btn-go-calendar" class="cta-button btn-dark">
                    <i class="fa-regular fa-calendar"></i> Mi Agenda
                </button>
            </div>

            <div class="table-responsive">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Hora</th>
                            <th>Cliente</th>
                            <th>Servicio</th>
                            <th>Barbero</th>
                            <th>Precio</th>
                        </tr>
                    </thead>
                    <tbody id="admin-table-body">
                        </tbody>
                </table>
                <p id="admin-loading-msg" class="loading-msg">Seleccioná una fecha para ver los turnos.</p>
            </div>

            <div class="admin-footer">
                <button id="btn-logout-admin" class="cta-button btn-dark">
                    Cerrar Sesión Admin
                </button>
            </div>
        </div>
    </div>

    <div id="delete-modal" class="modal-overlay">
        <div class="modal-card">
            <h3>¿Cancelar Turno?</h3>
            <p id="modal-text">¿Estás seguro de que querés borrar este turno?</p>
            <div class="modal-buttons">
                <button id="btn-modal-cancel" class="btn-cancel">No, Volver</button>
                <button id="btn-modal-confirm" class="btn-confirm">Sí, Borrar</button>
            </div>
        </div>
    </div>

    <script src="/public/js/goBack.js"></script>
    <script src="/public/js/guard.js"></script>
    <script type="module" src="/public/js/auth-logic.js"></script>

</body>
</html>